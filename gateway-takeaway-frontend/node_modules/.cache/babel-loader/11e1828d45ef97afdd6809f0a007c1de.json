{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleks\\\\Documents\\\\GitHub\\\\frontend\\\\gateway-takeaway-frontend\\\\src\\\\components\\\\ShoppingCart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport kartta from './kartta.png';\nimport styles from './ShoppingCart.module.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { UserAuthContext } from './Contexts';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ShoppingCart(props) {\n  _s();\n\n  let navigate = useNavigate();\n  const UserAuthContextValue = useContext(UserAuthContext);\n  const [restaurants, setRestaurants] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [order, setOrder] = useState(\"Received\");\n  const [product, setproduct] = useState([]);\n  useEffect(() => {\n    axios.get('https://back-end-22-group.herokuapp.com/restaurants').then(res => {\n      setRestaurants(res.data);\n      console.log(res.data);\n    });\n  }, []);\n  useEffect(() => {\n    getCustomer();\n  }, []);\n\n  const getCustomer = async () => {\n    try {\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n        }\n      });\n      setCustomers(results.data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const makeOrder = () => {\n    axios({\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n      },\n      method: \"post\",\n      data: {\n        product_id: product,\n        order_status: \"Received\"\n      },\n      url: \"https://back-end-22-group.herokuapp.com/customer/order\"\n    }).then(res => console.log(res));\n    navigate('/orderdonepage');\n  }; // const onSubmit = async (event) => {\n  //   event.preventDefault();\n  //   try {\n  //     const result = await axios.post('https://back-end-22-group.herokuapp.com/customer/order', null, {\n  //       headers: {\n  //         'Content-Type': 'application/json',\n  //         'Authorization': 'Bearer ' + UserAuthContextValue.jwt,\n  //         },\n  //         body: JSON.stringify({ order_status: order, product_id: product })\n  //     })\n  //     console.log(result);\n  //     console.log(result.data);\n  //     navigate(\"/orderdonepage\", { replace: true });\n  //   } catch (error) {\n  //     console.error(error.message);\n  //   }\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: kartta,\n      width: \"1920\",\n      height: \"761\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), customers.map(customer => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.title,\n          children: [\"Delivery for \", customer.first_name, \" \", customer.last_name, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.backButton,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/home\",\n            style: {\n              color: 'inherit',\n              textDecoration: 'none'\n            },\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.container1,\n          children: [\"\\uD83D\\uDEB2 Delivery in 15-25 min to \", customer.address, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 20\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.CartContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Type product id from the restaurant menu to order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"type product id*\",\n        onChange: e => setproduct(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.orderButton,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: makeOrder,\n          children: \"Order now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.CommentContainer,\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\uD83D\\uDDE8\\uFE0F  Comment for the restaurant \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.PaymentText,\n      children: \"Payment via:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.ChoosePayment,\n      children: /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Bisa electrum\",\n        children: \"\\uD83D\\uDCB3 Bisa Electrum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShoppingCart, \"mDoStNqUc7ROHembAK9b4T8FZGk=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ShoppingCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCart\");","map":{"version":3,"sources":["C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/src/components/ShoppingCart.js"],"names":["React","useState","useEffect","useContext","kartta","styles","Link","useNavigate","UserAuthContext","axios","ShoppingCart","props","navigate","UserAuthContextValue","restaurants","setRestaurants","customers","setCustomers","order","setOrder","product","setproduct","get","then","res","data","console","log","getCustomer","results","headers","jwt","error","makeOrder","method","product_id","order_status","url","map","customer","title","first_name","last_name","backButton","color","textDecoration","container1","address","CartContainer","e","target","value","orderButton","CommentContainer","PaymentText","ChoosePayment"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport kartta from './kartta.png';\r\nimport styles from './ShoppingCart.module.css';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { UserAuthContext } from './Contexts';\r\nimport axios from 'axios';\r\n\r\nexport default function ShoppingCart(props) {\r\n\r\n  let navigate = useNavigate();\r\n\r\n  const UserAuthContextValue = useContext(UserAuthContext);\r\n\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [order, setOrder] = useState(\"Received\");\r\n  const [product, setproduct] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('https://back-end-22-group.herokuapp.com/restaurants')\r\n      .then(res => {\r\n        setRestaurants(res.data);\r\n        console.log(res.data);\r\n      })\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getCustomer();\r\n  }, []);\r\n\r\n  const getCustomer = async () => {\r\n    try {\r\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer', {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n          }\r\n      });\r\n\r\n      setCustomers(results.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const makeOrder = () => {\r\n    axios({\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n        },\r\n        method: \"post\",\r\n        data: {\r\n            product_id: product,\r\n            order_status: \"Received\"\r\n        },\r\n        url: \"https://back-end-22-group.herokuapp.com/customer/order\",\r\n    })\r\n    .then((res) => console.log(res));\r\n    navigate('/orderdonepage')\r\n};\r\n\r\n  // const onSubmit = async (event) => {\r\n  //   event.preventDefault();\r\n  //   try {\r\n  //     const result = await axios.post('https://back-end-22-group.herokuapp.com/customer/order', null, {\r\n  //       headers: {\r\n  //         'Content-Type': 'application/json',\r\n  //         'Authorization': 'Bearer ' + UserAuthContextValue.jwt,\r\n  //         },\r\n  //         body: JSON.stringify({ order_status: order, product_id: product })\r\n  //     })\r\n  //     console.log(result);\r\n  //     console.log(result.data);\r\n  //     navigate(\"/orderdonepage\", { replace: true });\r\n  //   } catch (error) {\r\n  //     console.error(error.message);\r\n  //   }\r\n  // }\r\n\r\n  return (\r\n    <div>\r\n      <img src={kartta} width=\"1920\" height=\"761\"/>\r\n         {\r\n          customers.map((customer) => {\r\n            return <div>\r\n              <div className={ styles.title }>Delivery for { customer.first_name } { customer.last_name } </div>\r\n              <div className={ styles.backButton }>\r\n                <Link to=\"/home\" style={{ color: 'inherit', textDecoration: 'none' }}>Back</Link></div>\r\n              <div className={ styles.container1 }>🚲 Delivery in 15-25 min to { customer.address } </div>\r\n          </div>\r\n          })\r\n        }\r\n      <div className={ styles.CartContainer }>\r\n        <div>\r\n          Type product id from the restaurant menu to order\r\n        </div>\r\n        <input placeholder=\"type product id*\" onChange={e => setproduct(e.target.value)} />\r\n        <div className={ styles.orderButton }><button onClick={makeOrder}>Order now</button></div>\r\n      </div>\r\n      <div className={ styles.CommentContainer }>\r\n        <input placeholder=\"🗨️  Comment for the restaurant \" />\r\n      </div>\r\n      <div className={ styles.PaymentText }>Payment via:</div>\r\n      <div className={ styles.ChoosePayment }>\r\n        <option value=\"Bisa electrum\">💳 Bisa Electrum</option>\r\n        {/* <option value=\"Kärkkäinen premium\">💳 Kärkkäinen premium</option>\r\n        <option value=\"gPass\">💳 gPass</option>\r\n        <option value=\"Bitcoin\">₿ Bitcoin</option> */}\r\n        </div>\r\n      </div>\r\n\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}