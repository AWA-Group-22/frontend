{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import kartta from'./kartta.png';import styles from'./ShoppingCart.module.css';import{Link,useNavigate}from'react-router-dom';import{UserAuthContext}from'./Contexts';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ShoppingCart(props){var navigate=useNavigate();var UserAuthContextValue=useContext(UserAuthContext);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),restaurants=_useState2[0],setRestaurants=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),customers=_useState4[0],setCustomers=_useState4[1];var _useState5=useState(\"Received\"),_useState6=_slicedToArray(_useState5,2),order=_useState6[0],setOrder=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),product=_useState8[0],setproduct=_useState8[1];useEffect(function(){axios.get('https://back-end-22-group.herokuapp.com/restaurants').then(function(res){setRestaurants(res.data);console.log(res.data);});},[]);useEffect(function(){getCustomer();},[]);var getCustomer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://back-end-22-group.herokuapp.com/customer',{headers:{'Content-Type':'application/json','Authorization':'Bearer '+UserAuthContextValue.jwt}});case 3:results=_context.sent;setCustomers(results.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getCustomer(){return _ref.apply(this,arguments);};}();var makeOrder=function makeOrder(){axios({headers:{'Content-Type':'application/json','Authorization':'Bearer '+UserAuthContextValue.jwt},method:\"post\",data:{product_id:product,order_status:\"Received\"},url:\"https://back-end-22-group.herokuapp.com/customer/order\"}).then(function(res){return console.log(res);});navigate('/orderdonepage');};// const onSubmit = async (event) => {\n//   event.preventDefault();\n//   try {\n//     const result = await axios.post('https://back-end-22-group.herokuapp.com/customer/order', null, {\n//       headers: {\n//         'Content-Type': 'application/json',\n//         'Authorization': 'Bearer ' + UserAuthContextValue.jwt,\n//         },\n//         body: JSON.stringify({ order_status: order, product_id: product })\n//     })\n//     console.log(result);\n//     console.log(result.data);\n//     navigate(\"/orderdonepage\", { replace: true });\n//   } catch (error) {\n//     console.error(error.message);\n//   }\n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:kartta,width:\"1920\",height:\"761\"}),customers.map(function(customer){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.title,children:[\"Delivery for \",customer.first_name,\" \",customer.last_name,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:styles.backButton,children:/*#__PURE__*/_jsx(Link,{to:\"/home\",style:{color:'inherit',textDecoration:'none'},children:\"Back\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.container1,children:[\"\\uD83D\\uDEB2 Delivery in 15-25 min to \",customer.address,\" \"]})]});}),/*#__PURE__*/_jsxs(\"div\",{className:styles.CartContainer,children:[/*#__PURE__*/_jsx(\"div\",{children:\"Type product id from the restaurant menu to order\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"type product id*\",onChange:function onChange(e){return setproduct(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:styles.orderButton,children:/*#__PURE__*/_jsx(\"button\",{onClick:makeOrder,children:\"Order now\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.CommentContainer,children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\uD83D\\uDDE8\\uFE0F  Comment for the restaurant \"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.PaymentText,children:\"Payment via:\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.ChoosePayment,children:/*#__PURE__*/_jsx(\"option\",{value:\"Bisa electrum\",children:\"\\uD83D\\uDCB3 Bisa Electrum\"})})]});}","map":{"version":3,"sources":["C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/src/components/ShoppingCart.js"],"names":["React","useState","useEffect","useContext","kartta","styles","Link","useNavigate","UserAuthContext","axios","ShoppingCart","props","navigate","UserAuthContextValue","restaurants","setRestaurants","customers","setCustomers","order","setOrder","product","setproduct","get","then","res","data","console","log","getCustomer","headers","jwt","results","error","makeOrder","method","product_id","order_status","url","map","customer","title","first_name","last_name","backButton","color","textDecoration","container1","address","CartContainer","e","target","value","orderButton","CommentContainer","PaymentText","ChoosePayment"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport kartta from './kartta.png';\r\nimport styles from './ShoppingCart.module.css';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { UserAuthContext } from './Contexts';\r\nimport axios from 'axios';\r\n\r\nexport default function ShoppingCart(props) {\r\n\r\n  let navigate = useNavigate();\r\n\r\n  const UserAuthContextValue = useContext(UserAuthContext);\r\n\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [order, setOrder] = useState(\"Received\");\r\n  const [product, setproduct] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('https://back-end-22-group.herokuapp.com/restaurants')\r\n      .then(res => {\r\n        setRestaurants(res.data);\r\n        console.log(res.data);\r\n      })\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getCustomer();\r\n  }, []);\r\n\r\n  const getCustomer = async () => {\r\n    try {\r\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer', {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n          }\r\n      });\r\n\r\n      setCustomers(results.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const makeOrder = () => {\r\n    axios({\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n        },\r\n        method: \"post\",\r\n        data: {\r\n            product_id: product,\r\n            order_status: \"Received\"\r\n        },\r\n        url: \"https://back-end-22-group.herokuapp.com/customer/order\",\r\n    })\r\n    .then((res) => console.log(res));\r\n    navigate('/orderdonepage')\r\n};\r\n\r\n  // const onSubmit = async (event) => {\r\n  //   event.preventDefault();\r\n  //   try {\r\n  //     const result = await axios.post('https://back-end-22-group.herokuapp.com/customer/order', null, {\r\n  //       headers: {\r\n  //         'Content-Type': 'application/json',\r\n  //         'Authorization': 'Bearer ' + UserAuthContextValue.jwt,\r\n  //         },\r\n  //         body: JSON.stringify({ order_status: order, product_id: product })\r\n  //     })\r\n  //     console.log(result);\r\n  //     console.log(result.data);\r\n  //     navigate(\"/orderdonepage\", { replace: true });\r\n  //   } catch (error) {\r\n  //     console.error(error.message);\r\n  //   }\r\n  // }\r\n\r\n  return (\r\n    <div>\r\n      <img src={kartta} width=\"1920\" height=\"761\"/>\r\n         {\r\n          customers.map((customer) => {\r\n            return <div>\r\n              <div className={ styles.title }>Delivery for { customer.first_name } { customer.last_name } </div>\r\n              <div className={ styles.backButton }>\r\n                <Link to=\"/home\" style={{ color: 'inherit', textDecoration: 'none' }}>Back</Link></div>\r\n              <div className={ styles.container1 }>🚲 Delivery in 15-25 min to { customer.address } </div>\r\n          </div>\r\n          })\r\n        }\r\n      <div className={ styles.CartContainer }>\r\n        <div>\r\n          Type product id from the restaurant menu to order\r\n        </div>\r\n        <input placeholder=\"type product id*\" onChange={e => setproduct(e.target.value)} />\r\n        <div className={ styles.orderButton }><button onClick={makeOrder}>Order now</button></div>\r\n      </div>\r\n      <div className={ styles.CommentContainer }>\r\n        <input placeholder=\"🗨️  Comment for the restaurant \" />\r\n      </div>\r\n      <div className={ styles.PaymentText }>Payment via:</div>\r\n      <div className={ styles.ChoosePayment }>\r\n        <option value=\"Bisa electrum\">💳 Bisa Electrum</option>\r\n        {/* <option value=\"Kärkkäinen premium\">💳 Kärkkäinen premium</option>\r\n        <option value=\"gPass\">💳 gPass</option>\r\n        <option value=\"Bitcoin\">₿ Bitcoin</option> */}\r\n        </div>\r\n      </div>\r\n\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}