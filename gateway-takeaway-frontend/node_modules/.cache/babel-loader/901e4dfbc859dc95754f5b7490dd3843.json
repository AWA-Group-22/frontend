{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleks\\\\Documents\\\\GitHub\\\\frontend\\\\gateway-takeaway-frontend\\\\src\\\\components\\\\RestaurantMenuPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport styles from './RestaurantMenuPage.module.css';\nimport axios from 'axios';\nimport { UserAuthContext } from './Contexts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RestaurantMenuPage(props) {\n  _s();\n\n  let navigate = useNavigate();\n  const UserAuthContextValue = useContext(UserAuthContext);\n  const {\n    restaurant_id\n  } = useParams();\n  const [restaurants, setRestaurants] = useState({});\n  const [customers, setCustomers] = useState([]);\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    getCustomer();\n  }, []);\n  useEffect(() => {\n    getRestaurant();\n  }, []);\n  useEffect(() => {\n    getProduct();\n  }, []); // const getCustomer = () => {\n  //     axios({\n  //       method: \"get\",\n  //       credentials: \"include\",\n  //       headers: { \"Content-Type\": \"application/json\" },\n  //       body: JSON.stringify({ customers }),\n  //       url: \"https://back-end-22-group.herokuapp.com/customer\",\n  //     }).then((res) => {\n  //       setCustomers(res.data);\n  //       console.log(res.data);\n  //     });\n  //   };\n\n  const getCustomer = async () => {\n    try {\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n        }\n      });\n      setCustomers(results.data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const getRestaurant = () => {\n    axios({\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        restaurants\n      }),\n      url: \"https://back-end-22-group.herokuapp.com/restaurant/\" + restaurant_id\n    }).then(res => {\n      setRestaurants(res.data[0]);\n      console.log(res.data[0]);\n    });\n  };\n\n  const getProduct = () => {\n    axios({\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        products\n      }),\n      url: \"https://back-end-22-group.herokuapp.com/restaurant/menu/\" + restaurant_id\n    }).then(res => {\n      setProducts(res.data);\n      console.log(res.data);\n    });\n  };\n\n  const onSubmit = () => {\n    // e.preventDefault()\n    // axios.post('https://back-end-22-group.herokuapp.com/customer/order')\n    //     .then((res) => {\n    //         console.log(res.data)\n    //         console.log(\"Item added to order successfully\");\n    navigate(\"/shoppingcart\", {\n      replace: true\n    }); // }).catch((error) => {\n    //     console.log(error)\n    // });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.headerContainer,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home\",\n        style: {\n          color: 'inherit',\n          textDecoration: 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.brandText,\n          children: \"Gateway Takeaway\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 87\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), customers.map(customer => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [customer.first_name, \" \", customer.last_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 28\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/shoppingcart\",\n        style: {\n          color: 'inherit',\n          textDecoration: 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.shopCart,\n          children: \"Shopping cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 95\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: restaurants.image,\n        width: \"1900\",\n        height: \"590\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this), customers.map(customer => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.deliveryText,\n          children: [\"Delivery in 15-25 minutes to \", customer.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 28\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.hourText,\n        children: [\"Open today: \", restaurants.operating_hours, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.backButton,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/home\",\n          style: {\n            color: 'inherit',\n            textDecoration: 'none'\n          },\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.restaurantTitle,\n        children: [\" \", restaurants.restaurant_name, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.restaurantMotto,\n        children: [\"Address: \", restaurants.address, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.deliveryCost,\n        children: \"DELIVERY: 7.90\\u20AC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.minOrder,\n        children: \"MIN. ORDER: 20\\u20AC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.subContainer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.outText,\n        children: [\"Price level: \", restaurants.price_level, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), products.map((product, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.containeri,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.foodCategoryContainer,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.product_image,\n              width: \"250\",\n              height: \"150\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.prodNameStyle,\n              children: product.product_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.prodPriceStyle,\n              children: [product.price, \"\\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.prodDescStyle,\n              children: product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\" Product id: \", product.product_id, \" (type in the shopping cart to order) \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.shopCartButton,\n              onClick: onSubmit,\n              children: \" Go to shopping cart \\uD83D\\uDED2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 28\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n} //     return (\n// <div>\n//     <div className={styles.headerContainer}>\n//         <Link to=\"/home\" style={{ color: 'inherit', textDecoration: 'none' }}><div className={ styles.brandText }>Gateway Takeaway</div></Link>\n//     </div>\n//     <button onClick={ loadData }>Load data</button>\n//     { menuPageData.map(menu => \n//         <div>\n//         <div className={ styles.deliveryText }>Delivery in 15-25 minutes to #sample address#</div>\n//         <div className={ styles.hourText }>Open today: { menu.restaurant.operating_hours } </div>\n//         <div className={ styles.backButton }>\n//             <Link to=\"/home\" style={{ color: 'inherit', textDecoration: 'none' }}>Back</Link></div>\n//         <div className={ styles.restaurantTitle }> { menu.restaurant_name } </div>\n//         <div className={ styles.restaurantMotto }>Address: { menu.restaurant.address } </div>\n//         <div className={ styles.deliveryCost }>DELIVERY: null</div>\n//         <div className={ styles.minOrder }>MIN. ORDER: 20</div>\n//         <div className={ styles.subContainer }>🙂 8.9</div>\n//         <div className={ styles.outText }>price level: { menu.restaurant.price_level } </div>\n//         <div className={ styles.foodCategory1 }> { menu.category.category_name } </div>\n//         <div className={ styles.foodCategory2 }> { menu.category.category_name } </div>\n//         <div className={ styles.foodCategory3 }> { menu.category.category_name } </div>\n//         <div className={ styles.foodCategoryContainer1 }>\n//             Product:  { menu.product.product_name }\n//             Price:  { menu.product.price } \n//             Description:  { menu.product.description } \n//             Image:  { menu.product.product_image }\n//             <button onClick={ handleAddToShopCartButton }>Add to shopping cart</button>\n//         </div>\n//         <div className={ styles.foodCategoryContainer2 }>\n//             Product:  { menu.product.product_name }\n//             Price:  { menu.product.price } \n//             Description:  { menu.product.description } \n//             Image:  { menu.product.product_image } \n//         </div>\n//         <div className={ styles.foodCategoryContainer3 }>\n//             Product:  { menu.product.product_name }\n//             Price:  { menu.product.price } \n//             Description:  { menu.product.description } \n//             Image:  { menu.product.product_image } \n//         </div>\n//         </div>\n//     )}\n// </div>\n//     )\n// }\n\n_s(RestaurantMenuPage, \"nPjvj6lO44h6SszPVS4BnYxYoEs=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = RestaurantMenuPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RestaurantMenuPage\");","map":{"version":3,"sources":["C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/src/components/RestaurantMenuPage.js"],"names":["React","useState","useContext","useEffect","useParams","useNavigate","Link","styles","axios","UserAuthContext","RestaurantMenuPage","props","navigate","UserAuthContextValue","restaurant_id","restaurants","setRestaurants","customers","setCustomers","products","setProducts","getCustomer","getRestaurant","getProduct","results","get","headers","jwt","data","error","console","method","body","JSON","stringify","url","then","res","log","onSubmit","replace","headerContainer","color","textDecoration","brandText","map","customer","first_name","last_name","shopCart","image","deliveryText","address","hourText","operating_hours","backButton","restaurantTitle","restaurant_name","restaurantMotto","deliveryCost","minOrder","subContainer","outText","price_level","product","index","containeri","foodCategoryContainer","product_image","prodNameStyle","product_name","prodPriceStyle","price","prodDescStyle","description","product_id","shopCartButton"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './RestaurantMenuPage.module.css';\r\nimport axios from 'axios';\r\nimport { UserAuthContext } from './Contexts'\r\n\r\nexport default function RestaurantMenuPage(props) {\r\n\r\n    let navigate = useNavigate();\r\n\r\n    const UserAuthContextValue = useContext(UserAuthContext);\r\n\r\n    const { restaurant_id } = useParams();\r\n\r\n    const [restaurants, setRestaurants] = useState({});\r\n    const [customers, setCustomers] = useState([]);\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(() => {\r\n    getCustomer();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n    getRestaurant();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n    getProduct();\r\n    }, []);\r\n\r\n    // const getCustomer = () => {\r\n    //     axios({\r\n    //       method: \"get\",\r\n    //       credentials: \"include\",\r\n    //       headers: { \"Content-Type\": \"application/json\" },\r\n    //       body: JSON.stringify({ customers }),\r\n    //       url: \"https://back-end-22-group.herokuapp.com/customer\",\r\n    //     }).then((res) => {\r\n    //       setCustomers(res.data);\r\n    //       console.log(res.data);\r\n    //     });\r\n    //   };\r\n\r\n    const getCustomer = async () => {\r\n        try {\r\n          const results = await axios.get('https://back-end-22-group.herokuapp.com/customer', {\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n              }\r\n          });\r\n    \r\n          setCustomers(results.data);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      };\r\n\r\n    const getRestaurant = () => {\r\n        axios({\r\n            method: \"get\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ restaurants }),\r\n            url: \"https://back-end-22-group.herokuapp.com/restaurant/\" + restaurant_id,\r\n        }).then((res) => {\r\n            setRestaurants(res.data[0]);\r\n            console.log(res.data[0]);\r\n        });\r\n    };\r\n\r\n    const getProduct = () => {\r\n        axios({\r\n            method: \"get\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ products }),\r\n            url: \"https://back-end-22-group.herokuapp.com/restaurant/menu/\" + restaurant_id,\r\n        }).then((res) => {\r\n            setProducts(res.data);\r\n            console.log(res.data);\r\n        });\r\n    };    \r\n\r\n    const onSubmit = () => {\r\n        // e.preventDefault()\r\n\r\n        // axios.post('https://back-end-22-group.herokuapp.com/customer/order')\r\n        //     .then((res) => {\r\n        //         console.log(res.data)\r\n        //         console.log(\"Item added to order successfully\");\r\n                navigate(\"/shoppingcart\", { replace: true });\r\n            // }).catch((error) => {\r\n            //     console.log(error)\r\n            // });\r\n    };\r\n    \r\n    return (\r\n        <div>\r\n            <div className={styles.headerContainer}>\r\n                <Link to=\"/home\" style={{ color: 'inherit', textDecoration: 'none' }}><div className={ styles.brandText }>Gateway Takeaway</div></Link>\r\n                    {/* <button onClick={ getCustomer }>Get customer data</button>\r\n                    <button onClick={ getRestaurant }>Get restaurant data</button>\r\n                    <button onClick={ getProduct }>Get product data</button> */}\r\n            {\r\n                customers.map((customer) => {\r\n                    return <div>\r\n                        { customer.first_name } { customer.last_name }\r\n                    </div>\r\n                })\r\n            }\r\n                <Link to=\"/shoppingcart\" style={{ color: 'inherit', textDecoration: 'none' }}><div className={ styles.shopCart }>Shopping cart</div></Link>\r\n            </div>\r\n            <div>\r\n            {/* <img src={burger1}/> */}\r\n            <img src={ restaurants.image } width=\"1900\" height=\"590\" />\r\n            {\r\n                customers.map((customer) => {\r\n                    return <div className={ styles.deliveryText }>Delivery in 15-25 minutes to { customer.address }</div>\r\n                })\r\n            }\r\n            </div>\r\n            <div>\r\n                <div className={ styles.hourText }>Open today: { restaurants.operating_hours } </div>\r\n                <div className={ styles.backButton }>\r\n                    <Link to=\"/home\" style={{ color: 'inherit', textDecoration: 'none' }}>Back</Link></div>\r\n                <div className={ styles.restaurantTitle }> { restaurants.restaurant_name } </div>\r\n                <div className={ styles.restaurantMotto }>Address: { restaurants.address } </div>\r\n                <div className={ styles.deliveryCost }>DELIVERY: 7.90€</div>\r\n                <div className={ styles.minOrder }>MIN. ORDER: 20€</div>\r\n                <div className={ styles.subContainer }></div>\r\n                <div className={ styles.outText }>Price level: { restaurants.price_level } </div>\r\n            </div>\r\n            {\r\n                products.map((product, index) => {\r\n                    return <div key={index} className={ styles.containeri }>\r\n                        <div className={ styles.foodCategoryContainer }>\r\n                            <div>\r\n                                <img src={ product.product_image } width=\"250\" height=\"150\" />\r\n                                <div className={ styles.prodNameStyle }>{ product.product_name }</div>\r\n                                <div className={ styles.prodPriceStyle }>{ product.price }€</div>\r\n                                <div className={ styles.prodDescStyle }>{ product.description }</div>\r\n                                <div> Product id: { product.product_id } (type in the shopping cart to order) </div>\r\n                                {/* <div className={ styles.prodIMGStyle }> { product.product_image }</div> */}\r\n                                <button className={ styles.shopCartButton } onClick={ onSubmit }> Go to shopping cart 🛒</button>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n//     return (\r\n        // <div>\r\n        //     <div className={styles.headerContainer}>\r\n        //         <Link to=\"/home\" style={{ color: 'inherit', textDecoration: 'none' }}><div className={ styles.brandText }>Gateway Takeaway</div></Link>\r\n        //     </div>\r\n        //     <button onClick={ loadData }>Load data</button>\r\n        //     { menuPageData.map(menu => \r\n        //         <div>\r\n        //         <div className={ styles.deliveryText }>Delivery in 15-25 minutes to #sample address#</div>\r\n        //         <div className={ styles.hourText }>Open today: { menu.restaurant.operating_hours } </div>\r\n        //         <div className={ styles.backButton }>\r\n        //             <Link to=\"/home\" style={{ color: 'inherit', textDecoration: 'none' }}>Back</Link></div>\r\n        //         <div className={ styles.restaurantTitle }> { menu.restaurant_name } </div>\r\n        //         <div className={ styles.restaurantMotto }>Address: { menu.restaurant.address } </div>\r\n        //         <div className={ styles.deliveryCost }>DELIVERY: null</div>\r\n        //         <div className={ styles.minOrder }>MIN. ORDER: 20</div>\r\n        //         <div className={ styles.subContainer }>🙂 8.9</div>\r\n        //         <div className={ styles.outText }>price level: { menu.restaurant.price_level } </div>\r\n        //         <div className={ styles.foodCategory1 }> { menu.category.category_name } </div>\r\n        //         <div className={ styles.foodCategory2 }> { menu.category.category_name } </div>\r\n        //         <div className={ styles.foodCategory3 }> { menu.category.category_name } </div>\r\n        //         <div className={ styles.foodCategoryContainer1 }>\r\n        //             Product:  { menu.product.product_name }\r\n        //             Price:  { menu.product.price } \r\n        //             Description:  { menu.product.description } \r\n        //             Image:  { menu.product.product_image }\r\n        //             <button onClick={ handleAddToShopCartButton }>Add to shopping cart</button>\r\n        //         </div>\r\n        //         <div className={ styles.foodCategoryContainer2 }>\r\n        //             Product:  { menu.product.product_name }\r\n        //             Price:  { menu.product.price } \r\n        //             Description:  { menu.product.description } \r\n        //             Image:  { menu.product.product_image } \r\n        //         </div>\r\n        //         <div className={ styles.foodCategoryContainer3 }>\r\n        //             Product:  { menu.product.product_name }\r\n        //             Price:  { menu.product.price } \r\n        //             Description:  { menu.product.description } \r\n        //             Image:  { menu.product.product_image } \r\n        //         </div>\r\n        //         </div>\r\n        //     )}\r\n        // </div>\r\n//     )\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}