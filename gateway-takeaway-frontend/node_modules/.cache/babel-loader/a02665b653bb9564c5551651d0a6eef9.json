{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleks\\\\Documents\\\\GitHub\\\\frontend\\\\gateway-takeaway-frontend\\\\src\\\\components\\\\UserOrderPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport styles from './UserOrderPage.module.css';\nimport axios from 'axios';\nimport { UserAuthContext } from './Contexts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserOrderPage(props) {\n  _s();\n\n  const UserAuthContextValue = useContext(UserAuthContext);\n  let navigate = useNavigate();\n  const [orders, setOrders] = useState([]);\n  const [ordersHistory, setOrdersHistory] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [changeOrderId, setChangeOrderId] = useState(\"\");\n  const [changeOrderStatus, setChangeOrderStatus] = useState(\"\"); // const getOrders = () => {\n  //   axios({\n  //     method: \"get\",\n  //     credentials: \"include\",\n  //     headers: { \"Content-Type\": \"application/json\" },\n  //     url: \"https://back-end-22-group.herokuapp.com/customer/order/status\",\n  //   }).then((res) => {\n  //     setOrders(res.data);\n  //     console.log(res.data);\n  //   });\n  // };\n\n  useEffect(() => {\n    getCustomer();\n  }, []);\n  useEffect(() => {\n    getOrders();\n  }, []);\n  useEffect(() => {\n    getOrderHistory();\n  }, []);\n\n  const getCustomer = async () => {\n    try {\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n        }\n      });\n      setCustomers(results.data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const getOrders = async () => {\n    try {\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer/order/status', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n        }\n      });\n      setOrders(results.data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const getOrderHistory = async () => {\n    try {\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer/order/history', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n        }\n      });\n      setOrdersHistory(results.data);\n      console.log(results.data);\n    } catch (err) {// console.log(err.response.data.message);\n    }\n  };\n\n  const handleChangeOrderStatus = () => {\n    axios({\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n      },\n      method: \"post\",\n      data: {\n        order_id: changeOrderId\n      },\n      url: \"https://back-end-22-group.herokuapp.com/customer/order/confirm\"\n    }).then(res => console.log(res));\n    navigate(\"/orders\", {\n      replace: true\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.headerContainer,\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home\",\n        style: {\n          color: 'inherit',\n          textDecoration: 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.brandText,\n          children: \"Gateway Takeaway\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 79\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [customers.map((customer, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.titleText,\n            children: [\"Orders of \", customer.first_name, \" \", customer.last_name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 22\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.changeOrderStatus,\n        children: [\"Confirm order with status \\\"Delivered\\\"\", /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"order id\",\n          onChange: e => setChangeOrderId(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleChangeOrderStatus,\n          className: styles.buttonStyle,\n          children: \"Confirm order Delivered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.currentOrderText,\n          children: \"Current orders:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), orders.map((order, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.currentOrderContainer,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.currentOrderId,\n                children: [\" Order id: \", order.order_id, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.currentOrderStatus,\n                children: [\" Order status: \", order.order_status, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.currentOrderProduct,\n                children: \" Ordered product(s): \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.currentProductId,\n                children: [\" Product id: \", order.product_id, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.currentProductName,\n                children: [\" Product name: \", order.product_name, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 21\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 24\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.historyDivText,\n          children: \" Order history: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), ordersHistory.map((history, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.bigOrderContainer,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.orderContainer,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.currentOrderId,\n                children: [\" Order id: \", history.order_id, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.currentOrderStatus,\n                children: [\" Order status: \", history.order_status, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.currentOrderProduct,\n                children: \" Ordered product(s): \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.currentProductId,\n                children: [\" Product id: \", history.product_id, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.currentProductName,\n                children: [\" Product name: \", history.product_name, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 24\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserOrderPage, \"KLETowBE5C0sOl71kB5Hib3k16c=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserOrderPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserOrderPage\");","map":{"version":3,"sources":["C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/src/components/UserOrderPage.js"],"names":["React","useState","useEffect","useContext","Link","useNavigate","styles","axios","UserAuthContext","UserOrderPage","props","UserAuthContextValue","navigate","orders","setOrders","ordersHistory","setOrdersHistory","customers","setCustomers","changeOrderId","setChangeOrderId","changeOrderStatus","setChangeOrderStatus","getCustomer","getOrders","getOrderHistory","results","get","headers","jwt","data","error","console","log","err","handleChangeOrderStatus","method","order_id","url","then","res","replace","headerContainer","color","textDecoration","brandText","map","customer","index","titleText","first_name","last_name","e","target","value","buttonStyle","currentOrderText","order","currentOrderContainer","currentOrderId","currentOrderStatus","order_status","currentOrderProduct","currentProductId","product_id","currentProductName","product_name","historyDivText","history","bigOrderContainer","orderContainer"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,kBAAlC;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,YAAhC;;AAEA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AAE3C,QAAMC,oBAAoB,GAAGR,UAAU,CAACK,eAAD,CAAvC;AAEA,MAAII,QAAQ,GAAGP,WAAW,EAA1B;AAEA,QAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACc,aAAD,EAAgBC,gBAAhB,IAAoCf,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACgB,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAM,CAAEkB,aAAF,EAAiBC,gBAAjB,IAAsCnB,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAAEoB,iBAAF,EAAqBC,oBAArB,IAA8CrB,QAAQ,CAAC,EAAD,CAA5D,CAX2C,CAa3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,WAAW;AACZ,GAFQ,EAEN,EAFM,CAAT;AAIArB,EAAAA,SAAS,CAAC,MAAM;AACdsB,IAAAA,SAAS;AACV,GAFQ,EAEN,EAFM,CAAT;AAIAtB,EAAAA,SAAS,CAAC,MAAM;AACduB,IAAAA,eAAe;AAChB,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMF,WAAW,GAAG,YAAY;AAC9B,QAAI;AACF,YAAMG,OAAO,GAAG,MAAMnB,KAAK,CAACoB,GAAN,CAAU,kDAAV,EAA8D;AAClFC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,YAAYjB,oBAAoB,CAACkB;AAF3C;AADyE,OAA9D,CAAtB;AAOAX,MAAAA,YAAY,CAACQ,OAAO,CAACI,IAAT,CAAZ;AACD,KATD,CASE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,GAbD;;AAeA,QAAMP,SAAS,GAAG,YAAY;AAC5B,QAAI;AACF,YAAME,OAAO,GAAG,MAAMnB,KAAK,CAACoB,GAAN,CAAU,+DAAV,EAA2E;AAC/FC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,YAAYjB,oBAAoB,CAACkB;AAF3C;AADsF,OAA3E,CAAtB;AAOAf,MAAAA,SAAS,CAACY,OAAO,CAACI,IAAT,CAAT;AACD,KATD,CASE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,GAbD;;AAeA,QAAMN,eAAe,GAAG,YAAY;AAClC,QAAI;AACF,YAAMC,OAAO,GAAG,MAAMnB,KAAK,CAACoB,GAAN,CAAU,gEAAV,EAA4E;AAChGC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,YAAYjB,oBAAoB,CAACkB;AAF3C;AADuF,OAA5E,CAAtB;AAOAb,MAAAA,gBAAgB,CAACU,OAAO,CAACI,IAAT,CAAhB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYP,OAAO,CAACI,IAApB;AACD,KAVD,CAUE,OAAOI,GAAP,EAAY,CACZ;AACD;AACF,GAdD;;AAiBA,QAAMC,uBAAuB,GAAG,MAAM;AACpC5B,IAAAA,KAAK,CAAC;AACFqB,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,yBAAiB,YAAYjB,oBAAoB,CAACkB;AAF3C,OADP;AAKFO,MAAAA,MAAM,EAAE,MALN;AAMFN,MAAAA,IAAI,EAAE;AACFO,QAAAA,QAAQ,EAAElB;AADR,OANJ;AASFmB,MAAAA,GAAG,EAAE;AATH,KAAD,CAAL,CAWCC,IAXD,CAWOC,GAAD,IAASR,OAAO,CAACC,GAAR,CAAYO,GAAZ,CAXf;AAYA5B,IAAAA,QAAQ,CAAC,SAAD,EAAY;AAAE6B,MAAAA,OAAO,EAAE;AAAX,KAAZ,CAAR;AACH,GAdC;;AAgBA,sBACE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAEnC,MAAM,CAACoC,eAAvB;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,OAAT;AAAiB,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE,SAAT;AAAoBC,UAAAA,cAAc,EAAE;AAApC,SAAxB;AAAA,+BAAsE;AAAK,UAAA,SAAS,EAAGtC,MAAM,CAACuC,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAtE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAMI;AAAA,iBAEI5B,SAAS,CAAC6B,GAAV,CAAc,CAACC,QAAD,EAAWC,KAAX,KAAqB;AACjC,4BAAO;AAAA,iCACL;AAAK,YAAA,SAAS,EAAG1C,MAAM,CAAC2C,SAAxB;AAAA,qCAAgDF,QAAQ,CAACG,UAAzD,OAAwEH,QAAQ,CAACI,SAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AADK,WAAUH,KAAV;AAAA;AAAA;AAAA;AAAA,gBAAP;AAGD,OAJD,CAFJ,eASE;AAAK,QAAA,SAAS,EAAG1C,MAAM,CAACe,iBAAxB;AAAA,2EAEI;AAAO,UAAA,WAAW,EAAC,UAAnB;AAA8B,UAAA,QAAQ,EAAE+B,CAAC,IAAIhC,gBAAgB,CAACgC,CAAC,CAACC,MAAF,CAASC,KAAV;AAA7D;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGQ;AAAQ,UAAA,OAAO,EAAEnB,uBAAjB;AAA0C,UAAA,SAAS,EAAE7B,MAAM,CAACiD,WAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHR;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,eAcE;AAAA,gCACA;AAAK,UAAA,SAAS,EAAGjD,MAAM,CAACkD,gBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,EAGI3C,MAAM,CAACiC,GAAP,CAAW,CAACW,KAAD,EAAQT,KAAR,KAAkB;AAC3B,8BAAO;AAAA,mCACH;AAAK,cAAA,SAAS,EAAG1C,MAAM,CAACoD,qBAAxB;AAAA,sCACE;AAAK,gBAAA,SAAS,EAAGpD,MAAM,CAACqD,cAAxB;AAAA,0CAAsDF,KAAK,CAACpB,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,gBAAA,SAAS,EAAG/B,MAAM,CAACsD,kBAAxB;AAAA,8CAA8DH,KAAK,CAACI,YAApE;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAK,gBAAA,SAAS,EAAGvD,MAAM,CAACwD,mBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE;AAAK,gBAAA,SAAS,EAAGxD,MAAM,CAACyD,gBAAxB;AAAA,4CAA0DN,KAAK,CAACO,UAAhE;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE;AAAK,gBAAA,SAAS,EAAG1D,MAAM,CAAC2D,kBAAxB;AAAA,8CAA8DR,KAAK,CAACS,YAApE;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADG,aAAUlB,KAAV;AAAA;AAAA;AAAA;AAAA,kBAAP;AASD,SAVD,CAHJ,eAeA;AAAK,UAAA,SAAS,EAAG1C,MAAM,CAAC6D,cAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfA,EAiBIpD,aAAa,CAAC+B,GAAd,CAAkB,CAACsB,OAAD,EAAUpB,KAAV,KAAoB;AACpC,8BAAO;AAAiB,YAAA,SAAS,EAAG1C,MAAM,CAAC+D,iBAApC;AAAA,mCACL;AAAK,cAAA,SAAS,EAAG/D,MAAM,CAACgE,cAAxB;AAAA,sCACA;AAAK,gBAAA,SAAS,EAAGhE,MAAM,CAACqD,cAAxB;AAAA,0CAAsDS,OAAO,CAAC/B,QAA9D;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,eAEE;AAAK,gBAAA,SAAS,EAAG/B,MAAM,CAACsD,kBAAxB;AAAA,8CAA8DQ,OAAO,CAACP,YAAtE;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAK,gBAAA,SAAS,EAAGvD,MAAM,CAACwD,mBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE;AAAK,gBAAA,SAAS,EAAGxD,MAAM,CAACyD,gBAAxB;AAAA,4CAA0DK,OAAO,CAACJ,UAAlE;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE;AAAK,gBAAA,SAAS,EAAG1D,MAAM,CAAC2D,kBAAxB;AAAA,8CAA8DG,OAAO,CAACF,YAAtE;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADK,aAAUlB,KAAV;AAAA;AAAA;AAAA;AAAA,kBAAP;AASD,SAVD,CAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAdF;AAAA;AAAA;AAAA;AAAA;AAAA,YANJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAsDD;;GA1JuBvC,a;UAIPJ,W;;;KAJOI,a","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport styles from './UserOrderPage.module.css';\r\nimport axios from 'axios';\r\nimport { UserAuthContext } from './Contexts';\r\n\r\nexport default function UserOrderPage(props) {\r\n\r\n  const UserAuthContextValue = useContext(UserAuthContext);\r\n\r\n  let navigate = useNavigate();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [ordersHistory, setOrdersHistory] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n\r\n  const [ changeOrderId, setChangeOrderId ] = useState(\"\");\r\n  const [ changeOrderStatus, setChangeOrderStatus ] = useState(\"\");\r\n\r\n  // const getOrders = () => {\r\n  //   axios({\r\n  //     method: \"get\",\r\n  //     credentials: \"include\",\r\n  //     headers: { \"Content-Type\": \"application/json\" },\r\n  //     url: \"https://back-end-22-group.herokuapp.com/customer/order/status\",\r\n  //   }).then((res) => {\r\n  //     setOrders(res.data);\r\n  //     console.log(res.data);\r\n  //   });\r\n  // };\r\n\r\n  useEffect(() => {\r\n    getCustomer();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getOrders();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getOrderHistory();\r\n  }, []);\r\n\r\n  const getCustomer = async () => {\r\n    try {\r\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer', {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n          }\r\n      });\r\n\r\n      setCustomers(results.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const getOrders = async () => {\r\n    try {\r\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer/order/status', {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n          }\r\n      });\r\n\r\n      setOrders(results.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const getOrderHistory = async () => {\r\n    try {\r\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer/order/history', {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n          }\r\n      });\r\n\r\n      setOrdersHistory(results.data);\r\n      console.log(results.data);\r\n    } catch (err) {\r\n      // console.log(err.response.data.message);\r\n    }\r\n  };\r\n\r\n\r\n  const handleChangeOrderStatus = () => {\r\n    axios({\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n        },\r\n        method: \"post\",\r\n        data: {\r\n            order_id: changeOrderId,\r\n        },\r\n        url: \"https://back-end-22-group.herokuapp.com/customer/order/confirm\",\r\n    })\r\n    .then((res) => console.log(res));\r\n    navigate(\"/orders\", { replace: true });\r\n};\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles.headerContainer}>\r\n        <Link to=\"/home\" style={{ color: 'inherit', textDecoration: 'none' }}><div className={ styles.brandText }>Gateway Takeaway</div></Link>\r\n        {/* <button onClick={ getOrders }>Get orders</button>\r\n        <button onClick={ getOrderHistory }>Get order history</button> */}\r\n      </div>\r\n        <div>\r\n          {\r\n            customers.map((customer, index) => {\r\n              return <div key={index}>\r\n                <div className={ styles.titleText }>Orders of { customer.first_name } { customer.last_name } </div>\r\n              </div>\r\n            })\r\n          }\r\n        \r\n          <div className={ styles.changeOrderStatus }>\r\n              Confirm order with status \"Delivered\"\r\n              <input placeholder=\"order id\" onChange={e => setChangeOrderId(e.target.value)} />\r\n                  <button onClick={handleChangeOrderStatus} className={styles.buttonStyle}>Confirm order Delivered</button>\r\n          </div>\r\n          <div>\r\n          <div className={ styles.currentOrderText }>Current orders:</div>\r\n            {\r\n              orders.map((order, index) => {\r\n                return <div key={index}>\r\n                    <div className={ styles.currentOrderContainer }>\r\n                      <div className={ styles.currentOrderId }> Order id: { order.order_id } </div>\r\n                      <div className={ styles.currentOrderStatus }> Order status: { order.order_status } </div>\r\n                      <div className={ styles.currentOrderProduct }> Ordered product(s): </div>\r\n                      <div className={ styles.currentProductId }> Product id: { order.product_id } </div>\r\n                      <div className={ styles.currentProductName }> Product name: { order.product_name } </div>\r\n                    </div>\r\n                </div>\r\n              })\r\n            }\r\n          <div className={ styles.historyDivText }> Order history: </div>              \r\n            {\r\n              ordersHistory.map((history, index) => {                    \r\n                return <div key={index} className={ styles.bigOrderContainer }>\r\n                  <div className={ styles.orderContainer }>\r\n                  <div className={ styles.currentOrderId }> Order id: { history.order_id } </div>\r\n                    <div className={ styles.currentOrderStatus }> Order status: { history.order_status } </div>\r\n                    <div className={ styles.currentOrderProduct }> Ordered product(s): </div>\r\n                    <div className={ styles.currentProductId }> Product id: { history.product_id } </div>\r\n                    <div className={ styles.currentProductName }> Product name: { history.product_name } </div>\r\n                  </div>\r\n                  </div>\r\n              })\r\n            }\r\n        </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}