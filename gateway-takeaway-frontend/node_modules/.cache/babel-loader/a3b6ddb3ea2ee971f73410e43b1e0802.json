{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useContext,useState,useEffect}from'react';import{Link}from'react-router-dom';import styles from'./ManagerPage.module.css';import{UserAuthContext}from'./Contexts';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ManagerPage(props){var UserAuthContextValue=useContext(UserAuthContext);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),managerInfo=_useState2[0],setManagerInfo=_useState2[1];var getManagerInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://back-end-22-group.herokuapp.com/manager',{headers:{'Content-Type':'application/json','Authorization':'Bearer '+UserAuthContextValue.jwt}});case 3:results=_context.sent;setManagerInfo(results.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getManagerInfo(){return _ref.apply(this,arguments);};}();useEffect(function(){getManagerInfo();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.headerContainer,children:[/*#__PURE__*/_jsx(Link,{to:\"/managerpage\",style:{color:'inherit',textDecoration:'none'},children:/*#__PURE__*/_jsx(\"div\",{className:styles.brandText,children:\"Gateway Takeaway\"})}),managerInfo.map(function(manager,index){return/*#__PURE__*/_jsx(\"div\",{className:styles.managerInfo,children:/*#__PURE__*/_jsxs(\"div\",{children:[\" Welcome \",manager.first_name,\" \",manager.last_name,\" \"]})},index);}),/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:'inherit',textDecoration:'none'},children:/*#__PURE__*/_jsx(\"button\",{className:styles.logoutButton,onClick:function onClick(){return UserAuthContextValue.logout();},children:\"Logout\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.title,children:\"Manager page\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.bigContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.container1,children:/*#__PURE__*/_jsx(Link,{to:\"/managercreateuser\",style:{color:'inherit',textDecoration:'none'},children:\"Create user accounts\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.container2,children:/*#__PURE__*/_jsx(Link,{to:\"/managerestaurants\",style:{color:'inherit',textDecoration:'none'},children:\"Create restaurants\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.container3,children:/*#__PURE__*/_jsx(Link,{to:\"/managerorderpage\",style:{color:'inherit',textDecoration:'none'},children:\"Manage orders\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.container5,children:/*#__PURE__*/_jsx(Link,{to:\"/createcategory\",style:{color:'inherit',textDecoration:'none'},children:\"Create categories\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.container4,children:/*#__PURE__*/_jsx(Link,{to:\"/createmenu\",style:{color:'inherit',textDecoration:'none'},children:\"Create restaurant menus\"})})]})]});}","map":{"version":3,"sources":["C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/src/components/ManagerPage.js"],"names":["React","Component","useContext","useState","useEffect","Link","styles","UserAuthContext","axios","ManagerPage","props","UserAuthContextValue","managerInfo","setManagerInfo","getManagerInfo","get","headers","jwt","results","data","console","error","headerContainer","color","textDecoration","brandText","map","manager","index","first_name","last_name","logoutButton","logout","title","bigContainer","container1","container2","container3","container5","container4"],"mappings":"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","sourcesContent":["import React, { Component, useContext, useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './ManagerPage.module.css';\r\nimport { UserAuthContext } from './Contexts';\r\nimport axios from 'axios';\r\n\r\nexport default function ManagerPage(props) {\r\n\r\n    const UserAuthContextValue = useContext(UserAuthContext);\r\n\r\n    const [managerInfo, setManagerInfo] = useState([]);\r\n\r\n    const getManagerInfo = async () => {\r\n        try {\r\n          const results = await axios.get('https://back-end-22-group.herokuapp.com/manager', {\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n              }\r\n          });\r\n          setManagerInfo(results.data);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getManagerInfo();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.headerContainer}>\r\n            <Link to=\"/managerpage\" style={{ color: 'inherit', textDecoration: 'none' }}><div className={ styles.brandText }>Gateway Takeaway</div></Link>\r\n            {\r\n                managerInfo.map((manager, index) => {\r\n                    return <div key={index} className={ styles.managerInfo }>\r\n                        <div> Welcome { manager.first_name } { manager.last_name } </div>\r\n                    </div>\r\n                })\r\n            }\r\n            <Link to=\"/\" style={{ color: 'inherit', textDecoration: 'none' }}><button className={styles.logoutButton} onClick={() => UserAuthContextValue.logout()} >Logout</button></Link>\r\n            </div>\r\n            <div className={ styles.title }>Manager page</div>\r\n            <div className={ styles.bigContainer }>\r\n                <div className={ styles.container1 }>\r\n                    <Link to=\"/managercreateuser\" style={{ color: 'inherit', textDecoration: 'none' }}>Create user accounts</Link>\r\n                </div>\r\n\r\n                <div className={ styles.container2 }>\r\n                    <Link to=\"/managerestaurants\" style={{ color: 'inherit', textDecoration: 'none' }}>Create restaurants</Link>\r\n                </div>\r\n\r\n                <div className={ styles.container3 }>\r\n                    <Link to=\"/managerorderpage\" style={{ color: 'inherit', textDecoration: 'none' }}>Manage orders</Link>\r\n                </div>\r\n\r\n                <div className={ styles.container5 }>\r\n                    <Link to=\"/createcategory\" style={{ color: 'inherit', textDecoration: 'none' }}>Create categories</Link>\r\n                </div>\r\n\r\n                <div className={ styles.container4 }>\r\n                    <Link to=\"/createmenu\" style={{ color: 'inherit', textDecoration: 'none' }}>Create restaurant menus</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}