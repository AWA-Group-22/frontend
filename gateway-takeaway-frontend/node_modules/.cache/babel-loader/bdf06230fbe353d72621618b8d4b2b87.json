{"ast":null,"code":"import _objectSpread from\"C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from\"react\";import{Link}from'react-router-dom';import Slider from\"react-slick\";import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import styles from\"./Home.module.css\";import axios from\"axios\";import jwt from'jsonwebtoken';import{UserAuthContext}from'./Contexts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(props){var UserAuthContextValue=useContext(UserAuthContext);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),restaurants=_useState2[0],setRestaurants=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),customers=_useState4[0],setCustomers=_useState4[1];var carouselSettings={dots:true,arrows:true,infinite:true,speed:500,slidesToShow:3,slidesToScroll:3};useEffect(function(){axios.get('https://back-end-22-group.herokuapp.com/restaurants').then(function(res){setRestaurants(res.data);console.log(res.data);});},[]);useEffect(function(){getCustomer();},[]);var getCustomer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://back-end-22-group.herokuapp.com/customer',{headers:{'Content-Type':'application/json','Authorization':'Bearer '+UserAuthContextValue.jwt}});case 3:results=_context.sent;setCustomers(results.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getCustomer(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.headerContainer,children:[/*#__PURE__*/_jsx(Link,{to:\"/home\",style:{color:'inherit',textDecoration:'none'},children:/*#__PURE__*/_jsx(\"div\",{className:styles.brandText,children:\"Gateway Takeaway\"})}),customers.map(function(customer){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Welcome \",customer.first_name,\" \",customer.last_name]});}),/*#__PURE__*/_jsx(Link,{to:\"/resultpage\",style:{color:'inherit',textDecoration:'none'},children:/*#__PURE__*/_jsx(\"div\",{children:\"Search for restaurants\"})}),/*#__PURE__*/_jsx(Link,{to:\"/orders\",style:{color:'inherit',textDecoration:'none'},children:/*#__PURE__*/_jsx(\"div\",{className:styles.brandText2,children:\"Orders\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:'inherit',textDecoration:'none'},children:/*#__PURE__*/_jsx(\"button\",{className:styles.logoutButton,onClick:function onClick(){return UserAuthContextValue.logout();},children:\"Logout\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.carousel,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.browse,children:\"Browse restaurants\"}),/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},carouselSettings),{},{children:restaurants.map(function(restaurant){return/*#__PURE__*/_jsx(\"div\",{className:styles.container,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:restaurant.image,width:336,height:180}),/*#__PURE__*/_jsx(\"div\",{className:styles.restName,children:restaurant.restaurant_name}),/*#__PURE__*/_jsx(\"div\",{className:styles.restMotto,children:restaurant.operating_hours}),/*#__PURE__*/_jsx(Link,{to:{pathname:\"/restaurantmenu/\"+restaurant.restaurant_id},children:/*#__PURE__*/_jsx(\"button\",{className:styles.buttonStyle,children:\"Order now\"})})]})});})}))]})]});}","map":{"version":3,"sources":["C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/src/components/Home.js"],"names":["React","useContext","useState","useEffect","Link","Slider","styles","axios","jwt","UserAuthContext","Home","props","UserAuthContextValue","restaurants","setRestaurants","customers","setCustomers","carouselSettings","dots","arrows","infinite","speed","slidesToShow","slidesToScroll","get","then","res","data","console","log","getCustomer","headers","results","error","headerContainer","color","textDecoration","brandText","map","customer","first_name","last_name","brandText2","logoutButton","logout","carousel","browse","restaurant","container","image","restName","restaurant_name","restMotto","operating_hours","pathname","restaurant_id","buttonStyle"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\"\r\nimport { Link } from 'react-router-dom';\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport styles from \"./Home.module.css\";\r\nimport axios from \"axios\";\r\nimport jwt from 'jsonwebtoken';\r\nimport { UserAuthContext } from './Contexts';\r\n\r\nexport default function Home(props) {\r\n\r\n  const UserAuthContextValue = useContext(UserAuthContext);\r\n\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n\r\n  const carouselSettings = {\r\n    dots: true,\r\n    arrows: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 3,\r\n    slidesToScroll: 3\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios.get('https://back-end-22-group.herokuapp.com/restaurants')\r\n      .then(res => {\r\n        setRestaurants(res.data);\r\n        console.log(res.data);\r\n      })\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getCustomer();\r\n  }, []);\r\n\r\n  const getCustomer = async () => {\r\n    try {\r\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/customer', {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n          }\r\n      });\r\n\r\n      setCustomers(results.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <div className={styles.headerContainer}>\r\n      <Link to=\"/home\" style={{ color: 'inherit', textDecoration: 'none' }}><div className={ styles.brandText }>Gateway Takeaway</div></Link>\r\n      {\r\n        customers.map((customer) => {\r\n          return <div>\r\n            Welcome { customer.first_name } { customer.last_name }\r\n        </div>\r\n        })\r\n      }\r\n      <Link to=\"/resultpage\" style={{ color: 'inherit', textDecoration: 'none' }}><div>Search for restaurants</div></Link>\r\n      <Link to=\"/orders\" style={{ color: 'inherit', textDecoration: 'none' }}><div className={ styles.brandText2 }>Orders</div></Link>\r\n      <Link to=\"/\" style={{ color: 'inherit', textDecoration: 'none' }}><button className={styles.logoutButton} onClick={() => UserAuthContextValue.logout()} >Logout</button></Link>\r\n    </div>\r\n    \r\n    <div className={styles.carousel}>\r\n      <div className={styles.browse}>Browse restaurants</div>\r\n      <Slider {...carouselSettings}>\r\n        {\r\n          restaurants.map((restaurant) => { \r\n            return <div className={styles.container}>\r\n            <div>\r\n                <img src={ restaurant.image } width={336} height={180} />\r\n                <div className={styles.restName}>{restaurant.restaurant_name}</div>\r\n                <div className={styles.restMotto}>{restaurant.operating_hours}</div>\r\n                  <Link to={{ pathname: \"/restaurantmenu/\" + restaurant.restaurant_id}}><button className={ styles.buttonStyle }>Order now</button></Link>\r\n            </div>\r\n          </div>\r\n            })\r\n        }\r\n      </Slider>\r\n    </div>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}