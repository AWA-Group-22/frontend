{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleks\\\\Documents\\\\GitHub\\\\frontend\\\\gateway-takeaway-frontend\\\\src\\\\components\\\\CreateMenu.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport styles from './CreateMenu.module.css';\nimport axios, { post } from 'axios';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { UserAuthContext } from './Contexts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateMenu() {\n  _s();\n\n  let navigate = useNavigate();\n  const UserAuthContextValue = useContext(UserAuthContext);\n  const [info, setInfo] = useState([]);\n  const [category, setCategory] = useState(\"\");\n  const [restaurant, setRestaurant] = useState(\"\");\n  const [product, setProduct] = useState(\"\");\n  const [Price, setPrice] = useState(\"\");\n  const [Description, setDescription] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  useEffect(() => {\n    getInfo();\n  }, []);\n\n  const getInfo = async () => {\n    try {\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/restaurantmenu', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n        }\n      });\n      setInfo(results.data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const url = 'https://back-end-22-group.herokuapp.com/restaurantmenu';\n    const formData = new FormData();\n    formData.append('category_name', category);\n    formData.append('restaurant_name', restaurant);\n    formData.append('product_name', product);\n    formData.append('price', Price);\n    formData.append('description', Description);\n    formData.append('image', image);\n    const config = {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n      }\n    };\n    post(url, formData, config).then(response => {\n      console.log(response.data);\n      navigate(\"/createmenu\", {\n        replace: true\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.headerContainer,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/managerpage\",\n        style: {\n          color: 'inherit',\n          textDecoration: 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.brandText,\n          children: \"Gateway Takeaway\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 90\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.backButton,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/managerpage\",\n          style: {\n            color: 'inherit',\n            textDecoration: 'none'\n          },\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.titleText,\n        children: \"Manager menu page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.subtitleText,\n        children: \"Create a new menu by filling in the details (Category : green | Restaurant : red)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), info.map((i, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.infoContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.restRight,\n              children: [\" \", i.restaurant_name, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.cateLeft,\n              children: [i.category_name, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 19\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 24\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.textField1,\n            placeholder: \"Your restaurant's name* (case sensitive)\",\n            type: \"text\",\n            required: true,\n            value: restaurant,\n            onChange: e => setRestaurant(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.textField2,\n            placeholder: \"Category name*\",\n            type: \"text\",\n            required: true,\n            value: category,\n            onChange: e => setCategory(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.textField3,\n            placeholder: \"Product name*\",\n            type: \"text\",\n            required: true,\n            value: product,\n            onChange: e => setProduct(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.textField4,\n            placeholder: \"Product price*\",\n            type: \"text\",\n            required: true,\n            value: Price,\n            onChange: e => setPrice(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.textField5,\n            placeholder: \"Product description*\",\n            type: \"text\",\n            required: true,\n            value: Description,\n            onChange: e => setDescription(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.textField6,\n            type: \"file\",\n            onChange: e => setImage(e.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: styles.createButton,\n            children: \"Create menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n} // useEffect(() => {\n//   getRestaurantInfo();\n// }, []);\n// const getRestaurantInfo = async () => {\n//   try {\n//     const results = await axios.get('https://back-end-22-group.herokuapp.com/restaurants', {\n//       headers: {\n//         'Content-Type': 'application/json',\n//         'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n//         }\n//     });\n//     setRestaurantInfo(results.data);\n//   } catch (error) {\n//     console.error(error);\n//   }\n// };\n// const changeHandler = (event) => {\n//   setSelectedFile(event.target.files[0]);\n//   setIsFilePicked(true);\n// };\n// const handleSubmit = () => {\n//   // const formData = new FormData();\n//   // formData.append('File', selectedFile);\n//   axios({\n//       headers: {\n//         'Content-Type': 'application/json',\n//         'Authorization': 'Bearer ' + UserAuthContextValue.jwt\n//       },\n//       method: \"post\",\n//       data: {\n//         category_name: category,\n//         restaurant_name: restaurant,\n//         product_name: product,\n//         price: Price,\n//         description: Description,\n//         product_image: image\n//       },\n//       url: \"https://back-end-22-group.herokuapp.com/restaurant/menu\",\n//   })\n//   .then((res) => console.log(res));\n// };\n\n_s(CreateMenu, \"vMHM0WJCwCFrEwMvFQl+5qSKCpU=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CreateMenu;\n{\n  /* <label className={ styles.text1 }>Type in your restaurant's name: (case sensitive)</label>\r\n  <input className={ styles.textField1 }\r\n   type=\"text\"\r\n   required\r\n   value={restaurant}\r\n   onChange={(e) => setRestaurant(e.target.value)}\r\n   />\r\n  <label className={ styles.text2 }>Food category:</label>\r\n   <input className={ styles.textField2 }\r\n   type=\"text\"\r\n   required\r\n   value={category}\r\n   onChange={(e) => setCategory(e.target.value)}\r\n   />\r\n  <label className={ styles.text3 }>Product name:</label>\r\n   <input className={ styles.textField3 }\r\n   type=\"text\"\r\n   required\r\n   value={product}\r\n   onChange={(e) => setProduct(e.target.value)}\r\n   />\r\n  <label className={ styles.text4 }>Description:</label>\r\n   <input className={ styles.textField4 }\r\n   type=\"text\"\r\n   required\r\n   value={Description}\r\n   onChange={(e) => setDescription(e.target.value)}\r\n   />\r\n  <label className={ styles.text5 }>Price:</label>\r\n   <input className={ styles.textField5 } \r\n   type=\"text\"\r\n   required\r\n   value={Price}\r\n   onChange={(e) => setPrice(e.target.value)}\r\n   />\r\n  <label className={ styles.text6 }>Image (png)</label>\r\n   <input className={ styles.textField6 }\r\n   type=\"file\"\r\n   required\r\n   value={image}\r\n   onChange={(e) => setImage(e.target.files)}\r\n   /> */\n} //     const  CreateMenu = () =>{       \n// const [restaurant,setRestaurant] = useState('');\n// const [category,setCategory] = useState('');\n// const [name,setName] = useState('');\n// const [description,setDescription] = useState('');\n// const [price,setPrice] = useState('');\n// const [image,setImage] = useState('');      \n//           const handleSubmit = () => {\n//             axios({\n//               method: \"post\",\n//               data: {category_name: category,\n//                      restaurant_name: restaurant,\n//                      product_name:name,\n//                      description: description,\n//                      price:price,\n//                      product_image:imag\n//               }, \n//               url:\"  https://back-end-22-group.herokuapp.com/restaurant/menu\"\n//             })\n//             .then((res)=>console.log(res));        \n//           };       \n//         return (        \n//           <div className= {styles.CreateMenu}>\n//        <h2>Create a new menu for a restaurant</h2>\n//        <div><Link to=\"/managerpage\" style={{ color: 'inherit', textDecoration: 'none' }}><button>Back</button></Link></div>\n//     <form onSubmit={handleSubmit}>\n//      <label>Select restaurant:</label>\n//      <select\n//      value={restaurant}\n//      onChange={(e) =>setRestaurant(e.target.value)}\n//      >\n//          <option value=\"Restaurant 1\">FaFa's</option>\n//          <option value=\"Restaurant 2\">MCDonalds</option>\n//          <option value=\"Restaurant 3\">Subway</option>\n//          <option value=\"Restaurant 4\">Taco bell</option>\n//          <option value=\"Restaurant 5\">Burger king</option>\n//       </select>       \n//       <label>Food category:</label>\n//      <input \n//        type=\"text\"\n//        required\n//        value={category}\n//        onChange={(e) => setCategory(e.target.value)}\n//        />\n//        <label>Name:</label>\n//      <input \n//        type=\"text\"\n//        required\n//        value={name}\n//        onChange={(e) => setName(e.target.value)}\n//        />\n//        <label>Description:</label>\n//        <input \n//        type=\"text\"\n//        required\n//        value={description}\n//        onChange={(e) => setDescription(e.target.value)}\n//        />\n//        <label>Price:</label>\n//        <input \n//        type=\"text\"\n//        required\n//        value={price}\n//        onChange={(e) => setPrice(e.target.value)}\n//        />\n//       <label>Image</label>\n//      <input \n//        type=\"text\"\n//        required\n//        value={image}\n//        onChange={(e) =>setImage(e.target.value)}\n//        />\n//        <button >Add restaurant</button>       \n//  </form>\n//  </div>\n//       );\n// }\n// export default CreateMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateMenu\");","map":{"version":3,"sources":["C:/Users/aleks/Documents/GitHub/frontend/gateway-takeaway-frontend/src/components/CreateMenu.js"],"names":["React","useState","useEffect","useContext","styles","axios","post","Link","useNavigate","UserAuthContext","CreateMenu","navigate","UserAuthContextValue","info","setInfo","category","setCategory","restaurant","setRestaurant","product","setProduct","Price","setPrice","Description","setDescription","image","setImage","getInfo","results","get","headers","jwt","data","error","console","handleSubmit","e","preventDefault","url","formData","FormData","append","config","then","response","log","replace","headerContainer","color","textDecoration","brandText","backButton","container","titleText","subtitleText","map","i","index","infoContainer","restRight","restaurant_name","cateLeft","category_name","textField1","target","value","textField2","textField3","textField4","textField5","textField6","files","createButton"],"mappings":"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AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,YANJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkCD,C,CAGC;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;GA3IsB9D,U;UAEPF,W;;;KAFOE,U;AA6IR;AAAC;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAwB,C,CAGxB;AACQ;AACA;AACA;AACA;AACA;AACA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ;AACA;AACF;AAGA","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport styles from './CreateMenu.module.css';\r\nimport axios, { post } from 'axios';\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { UserAuthContext } from './Contexts';\r\n\r\nexport default function CreateMenu() {\r\n\r\n  let navigate = useNavigate();\r\n\r\n  const UserAuthContextValue = useContext(UserAuthContext);\r\n\r\n  const [ info, setInfo ] = useState([]);\r\n\r\n  const [ category, setCategory ] = useState(\"\");\r\n  const [ restaurant, setRestaurant ] = useState(\"\");\r\n  const [ product, setProduct ] = useState(\"\");\r\n  const [ Price, setPrice ] = useState(\"\");\r\n  const [ Description, setDescription ] = useState(\"\");\r\n  const [ image, setImage ] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    getInfo();\r\n  }, []);\r\n\r\n  const getInfo = async () => {\r\n    try {\r\n      const results = await axios.get('https://back-end-22-group.herokuapp.com/restaurantmenu', {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n          }\r\n      });\r\n\r\n      setInfo(results.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const url = 'https://back-end-22-group.herokuapp.com/restaurantmenu';\r\n    const formData = new FormData();\r\n    formData.append('category_name', category);\r\n    formData.append('restaurant_name', restaurant);\r\n    formData.append('product_name', product);\r\n    formData.append('price', Price);\r\n    formData.append('description', Description);\r\n    formData.append('image', image);\r\n    \r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n    }\r\n    }\r\n    post(url, formData, config).then((response) => {\r\n      console.log(response.data);\r\n      navigate(\"/createmenu\", { replace: true });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles.headerContainer}>\r\n            <Link to=\"/managerpage\" style={{ color: 'inherit', textDecoration: 'none' }}><div className={ styles.brandText }>Gateway Takeaway</div></Link>\r\n              <div className={ styles.backButton }>\r\n                <Link to=\"/managerpage\" style={{ color: 'inherit', textDecoration: 'none' }}>Back</Link></div>\r\n            </div>\r\n        <div className={styles.container}>\r\n            <div className={styles.titleText}>Manager menu page</div>\r\n            <div className={styles.subtitleText}>Create a new menu by filling in the details (Category : green | Restaurant : red)</div>\r\n            {\r\n              info.map((i, index) => {\r\n                return <div key={index}>\r\n                  <div className={ styles.infoContainer }>\r\n                  <div className={ styles.restRight }> { i.restaurant_name } </div>\r\n                  <div className={ styles.cateLeft }>{ i.category_name } </div>\r\n                  </div>\r\n                </div>\r\n              })\r\n            }\r\n            <div>\r\n              <form onSubmit={handleSubmit}>\r\n                <input className={styles.textField1} placeholder=\"Your restaurant's name* (case sensitive)\" type=\"text\" required value={restaurant} onChange={e => setRestaurant(e.target.value)} />\r\n                <input className={styles.textField2} placeholder=\"Category name*\" type=\"text\" required value={category} onChange={e => setCategory(e.target.value)} />\r\n                <input className={styles.textField3} placeholder=\"Product name*\" type=\"text\" required value={product} onChange={e => setProduct(e.target.value)} />\r\n                <input className={styles.textField4} placeholder=\"Product price*\" type=\"text\" required value={Price} onChange={e => setPrice(e.target.value)} />\r\n                <input className={styles.textField5} placeholder=\"Product description*\" type=\"text\" required value={Description} onChange={e => setDescription(e.target.value)} />\r\n                <input className={styles.textField6} type=\"file\" onChange={e => setImage(e.target.files[0])} />\r\n                  <button type=\"submit\" className={ styles.createButton }>Create menu</button>\r\n              </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n  // useEffect(() => {\r\n  //   getRestaurantInfo();\r\n  // }, []);\r\n\r\n  // const getRestaurantInfo = async () => {\r\n  //   try {\r\n  //     const results = await axios.get('https://back-end-22-group.herokuapp.com/restaurants', {\r\n  //       headers: {\r\n  //         'Content-Type': 'application/json',\r\n  //         'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n  //         }\r\n  //     });\r\n  //     setRestaurantInfo(results.data);\r\n  //   } catch (error) {\r\n  //     console.error(error);\r\n  //   }\r\n  // };\r\n\r\n  // const changeHandler = (event) => {\r\n  //   setSelectedFile(event.target.files[0]);\r\n  //   setIsFilePicked(true);\r\n  // };\r\n\r\n  // const handleSubmit = () => {\r\n\r\n  //   // const formData = new FormData();\r\n  //   // formData.append('File', selectedFile);\r\n\r\n  //   axios({\r\n  //       headers: {\r\n  //         'Content-Type': 'application/json',\r\n  //         'Authorization': 'Bearer ' + UserAuthContextValue.jwt\r\n  //       },\r\n  //       method: \"post\",\r\n  //       data: {\r\n  //         category_name: category,\r\n  //         restaurant_name: restaurant,\r\n  //         product_name: product,\r\n  //         price: Price,\r\n  //         description: Description,\r\n  //         product_image: image\r\n  //       },\r\n  //       url: \"https://back-end-22-group.herokuapp.com/restaurant/menu\",\r\n  //   })\r\n  //   .then((res) => console.log(res));\r\n  // };\r\n\r\n                {/* <label className={ styles.text1 }>Type in your restaurant's name: (case sensitive)</label>\r\n                <input className={ styles.textField1 }\r\n                  type=\"text\"\r\n                  required\r\n                  value={restaurant}\r\n                  onChange={(e) => setRestaurant(e.target.value)}\r\n                  />\r\n                <label className={ styles.text2 }>Food category:</label>\r\n                  <input className={ styles.textField2 }\r\n                  type=\"text\"\r\n                  required\r\n                  value={category}\r\n                  onChange={(e) => setCategory(e.target.value)}\r\n                  />\r\n                <label className={ styles.text3 }>Product name:</label>\r\n                  <input className={ styles.textField3 }\r\n                  type=\"text\"\r\n                  required\r\n                  value={product}\r\n                  onChange={(e) => setProduct(e.target.value)}\r\n                  />\r\n                <label className={ styles.text4 }>Description:</label>\r\n                  <input className={ styles.textField4 }\r\n                  type=\"text\"\r\n                  required\r\n                  value={Description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                  />\r\n                <label className={ styles.text5 }>Price:</label>\r\n                  <input className={ styles.textField5 } \r\n                  type=\"text\"\r\n                  required\r\n                  value={Price}\r\n                  onChange={(e) => setPrice(e.target.value)}\r\n                  />\r\n                <label className={ styles.text6 }>Image (png)</label>\r\n                  <input className={ styles.textField6 }\r\n                  type=\"file\"\r\n                  required\r\n                  value={image}\r\n                  onChange={(e) => setImage(e.target.files)}\r\n                  /> */}\r\n\r\n\r\n//     const  CreateMenu = () =>{       \r\n        // const [restaurant,setRestaurant] = useState('');\r\n        // const [category,setCategory] = useState('');\r\n        // const [name,setName] = useState('');\r\n        // const [description,setDescription] = useState('');\r\n        // const [price,setPrice] = useState('');\r\n        // const [image,setImage] = useState('');      \r\n//           const handleSubmit = () => {\r\n//             axios({\r\n//               method: \"post\",\r\n//               data: {category_name: category,\r\n//                      restaurant_name: restaurant,\r\n//                      product_name:name,\r\n//                      description: description,\r\n//                      price:price,\r\n//                      product_image:imag\r\n//               }, \r\n//               url:\"  https://back-end-22-group.herokuapp.com/restaurant/menu\"\r\n//             })\r\n//             .then((res)=>console.log(res));        \r\n//           };       \r\n//         return (        \r\n  //           <div className= {styles.CreateMenu}>\r\n  //        <h2>Create a new menu for a restaurant</h2>\r\n  //        <div><Link to=\"/managerpage\" style={{ color: 'inherit', textDecoration: 'none' }}><button>Back</button></Link></div>\r\n      //     <form onSubmit={handleSubmit}>\r\n      //      <label>Select restaurant:</label>\r\n      //      <select\r\n      //      value={restaurant}\r\n      //      onChange={(e) =>setRestaurant(e.target.value)}\r\n      //      >\r\n      //          <option value=\"Restaurant 1\">FaFa's</option>\r\n      //          <option value=\"Restaurant 2\">MCDonalds</option>\r\n      //          <option value=\"Restaurant 3\">Subway</option>\r\n      //          <option value=\"Restaurant 4\">Taco bell</option>\r\n      //          <option value=\"Restaurant 5\">Burger king</option>\r\n      //       </select>       \r\n      //       <label>Food category:</label>\r\n      //      <input \r\n      //        type=\"text\"\r\n      //        required\r\n      //        value={category}\r\n      //        onChange={(e) => setCategory(e.target.value)}\r\n      //        />\r\n      //        <label>Name:</label>\r\n      //      <input \r\n      //        type=\"text\"\r\n      //        required\r\n      //        value={name}\r\n      //        onChange={(e) => setName(e.target.value)}\r\n      //        />\r\n      //        <label>Description:</label>\r\n      //        <input \r\n      //        type=\"text\"\r\n      //        required\r\n      //        value={description}\r\n      //        onChange={(e) => setDescription(e.target.value)}\r\n      //        />\r\n      //        <label>Price:</label>\r\n      //        <input \r\n      //        type=\"text\"\r\n      //        required\r\n      //        value={price}\r\n      //        onChange={(e) => setPrice(e.target.value)}\r\n      //        />\r\n      //       <label>Image</label>\r\n      //      <input \r\n      //        type=\"text\"\r\n      //        required\r\n      //        value={image}\r\n      //        onChange={(e) =>setImage(e.target.value)}\r\n      //        />\r\n      //        <button >Add restaurant</button>       \r\n      //  </form>\r\n  //  </div>\r\n  //       );\r\n// }\r\n\r\n\r\n// export default CreateMenu;\r\n"]},"metadata":{},"sourceType":"module"}